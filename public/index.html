<!DOCTYPE html>
<html>

<head>
    <title>Page Title</title>
</head>

<body>

    <h1>Data Selfie app</h1>

    <p>
        latitude: <span id="latitude"></span>&deg;<br>
        longitute: <span id="longitute"></span>&deg;<br>
    </p>
    <button onclick="SendLocationData()">Send location</button>


    <script>
        var latitude;
        var longitute;

        if ('geolocation' in navigator) {
            console.log("Geolocation available");

            navigator.geolocation.getCurrentPosition(async position => {
                latitude = position.coords.latitude;
                longitute = position.coords.longitude;

                document.getElementById('latitude').innerHTML = latitude;
                document.getElementById('longitute').innerHTML = longitute;
            });

        }
        else {
            console.log("Geolocation not available");
        }
    </script>

    <script>
        async function SendLocationData() {
            const sendData = { latitude, longitute };
            const options = {
                method: 'POST',
                body: JSON.stringify(sendData),
                headers: { 'Content-Type': 'application/json' }
            };
            const response = await fetch('/api', options);
            const receiveData = await response.json();
            console.log(receiveData);
        }
    </script>


</body>

</html>